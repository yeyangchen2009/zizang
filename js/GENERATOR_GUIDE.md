# 文档生成器使用指南

这个脚本可以为任何符合特定结构的文档项目自动生成 README.md 和 _sidebar.md 文件。

## 使用方法

### 基本语法

```bash
node generate-docs-final.js [根目录路径] [指定路径名称]
```

### 参数说明

1. **根目录路径**（可选）：要处理的根目录路径，默认为当前目录
2. **指定路径名称**（可选）：包含所有子分类的主目录名称，默认为"艺藏"

### 使用示例

#### 1. 使用默认参数（当前目录，指定路径为"艺藏"）
```bash
node generate-docs-final.js
```

#### 2. 指定根目录路径
```bash
node generate-docs-final.js ./daozang
```

#### 3. 指定根目录路径和指定路径名称
```bash
node generate-docs-final.js ./daozang 道藏
```

```bash
node generate-docs-final.js ./dazangjing 大藏经
```

## 目录结构要求

为了正确生成文档，您的目录结构需要符合以下要求：

```
项目根目录/
├── README.md (将自动生成)
├── _sidebar.md (将自动生成)
├── 指定路径名称/ (例如：道藏、大藏经等)
│   ├── README.md (将自动生成)
│   ├── 分类1/
│   │   ├── README.md (将自动生成)
│   │   ├── 文档1.md
│   │   ├── 文档2.md
│   │   └── ...
│   ├── 分类2/
│   │   ├── README.md (将自动生成)
│   │   ├── 文档1.md
│   │   └── ...
│   └── ...
└── 其他文件...
```

## 生成的文件说明

### 1. 根目录 README.md
- 标题为指定路径名称
- 包含一个四列表格：归类、书籍数量、预估字数、大小
- 第一行显示指定路径下所有文档的总计信息
- 后续行显示各子分类的信息
- 表格中的归类名称带有超链接，指向对应的 README.md

### 2. 根目录 _sidebar.md
- 第一项链接到根目录的 README.md（首页）
- 第二项链接到指定路径的 README.md
- 分隔线后列出指定路径下所有子分类的 README.md

### 3. 指定路径 README.md
- 标题为指定路径名称
- 包含总览表格和各子分类的详细信息

### 4. 子分类 README.md
- 标题为子分类名称
- 包含该分类下所有文档的列表表格

### 5. 子分类 _sidebar.md
- 返回链接：返回根目录和返回上一级
- 分隔线后列出该分类下所有文档

## 注意事项

1. 脚本会自动忽略以下文件：_sidebar.md、README.md、_navbar.md、_coverpage.md
2. 只处理 .md 扩展名的文件
3. 文件统计信息基于 UTF-8 编码计算（3字节约等于1汉字）
4. 文件大小会自动格式化为 B、KB 或 MB 单位
5. 所有生成的文件都会覆盖已存在的同名文件
6. 脚本会递归遍历所有子目录

## 定制化

如果需要修改脚本的行为，可以在 `config` 对象中调整以下设置：

- `ignoreFiles`：要忽略的文件名列表
- `indentChar`：缩进字符
- `encoding`：文件编码，默认为 utf8